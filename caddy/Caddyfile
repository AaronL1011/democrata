# Dem√≥crata reverse proxy
# Domains set via API_DOMAIN and APP_DOMAIN env vars (see .env.example)
# Local: api.localhost, app.localhost. Production: api.example.com, app.example.com

{$API_DOMAIN} {
	encode gzip zstd

	reverse_proxy api:8000 {
		transport http {
			read_timeout 120s
			write_timeout 120s
		}
	}
}

{$APP_DOMAIN} {
	encode gzip zstd

	reverse_proxy frontend:5173
}
